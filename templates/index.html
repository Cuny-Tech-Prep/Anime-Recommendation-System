<!DOCTYPE html>
<html lang="en">

<head>
  <title>Anime Recommendation</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <style>
    /* Add a gray background color and some padding to the footer */
    footer {
      background-color: #f2f2f2;
      padding: 25px;
    }

    .carousel-inner img {
      width: 100%;
      /* Set width to 100% */
      min-height: 200px;
    }

    /* Hide the carousel text when the screen is less than 600 pixels wide */
    @media (max-width: 600px) {
      .carousel-caption {
        display: none;
      }
    }
  </style>
</head>

<body style="background-color: rgb(48, 48, 48);">

  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <!-- <a class="navbar-brand" href="#">ANIME RECOMMENDATIONS</a> -->
      </div>
      <div class="collapse navbar-collapse" id="myNavbar">
        <ul class="nav navbar-nav">
          <li class="active"><a href="#">Home</a></li>
          <!-- <li><a href="#">About</a></li> -->
        </ul>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="container text-center">
      <h2 style="padding-top: 7rem;
      text-align: center;
      text-transform: uppercase;
      grid-area: 2 / 1 / 2 / 3;
      align-self: center;
      justify-self: center;
      color: rgb(255, 255, 255);
      text-transform: uppercase;
      font-size: 4rem;
      text-shadow: 0px 2px 4px rgba(0,0,0,.4);
      margin-top: -5rem;">TOP 10 Anime Based on Rating Counts</h2>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div id="myCarousel" class="carousel slide" data-ride="carousel">
          <!-- Indicators -->
          <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
            <li data-target="#myCarousel" data-slide-to="3"></li>
            <li data-target="#myCarousel" data-slide-to="4"></li>
            <li data-target="#myCarousel" data-slide-to="5"></li>
            <li data-target="#myCarousel" data-slide-to="6"></li>
            <li data-target="#myCarousel" data-slide-to="7"></li>
            <li data-target="#myCarousel" data-slide-to="8"></li>
            <li data-target="#myCarousel" data-slide-to="9"></li>
            <li data-target="#myCarousel" data-slide-to="10"></li>

          </ol>

          <!-- Wrapper for slides -->
          <div class="carousel-inner" role="listbox" style="height: 600px;">

            <div class="item active">
              <div class="col-sm-6" style="align-items: center;height: 500px;margin-top:20px;margin-bottom: 20px;">
                <img src={{images[0]}} alt="Image" style="height: 100%; width:100%;object-fit: contain;">
              </div>
              <div class="col-sm-4" style="align-items: right;margin-top:20px;margin-bottom: 20px;">
                <div class="well">
                  <h2>{{titles[0]}}</h2>
                  <h3>Rating: {{ratings[0]}}</h3>
                  <p>{{synopsis[0]}} </p>
                </div>
              </div>
            </div>

            {% for imgurl in images%}
            {% if loop.index >1 %}
            <div class="item">
              <div class="col-sm-6" style="align-items: center;height: 500px;margin-top:20px;margin-bottom: 20px;">
                <img src={{imgurl}} alt="Image" style="height: 100%; width:100%;object-fit: contain;">
              </div>
              <div class="col-sm-4" style="align-items: right;margin-top:20px;margin-bottom: 20px;">
                <div class="well">
                  <h2>{{titles[loop.index-1]}}</h2>
                  <h3>Rating: {{ratings[loop.index-1]}}</h3>
                  <p>{{synopsis[loop.index-1]}} </p>
                </div>
              </div>
            </div>
            {% endif %}
            {% endfor %}

          </div>


        </div>

        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>

  </div>

  </div>

  <div class="container text-center" style="margin-top:50px;padding-bottom:100px;">
    <form action="{{ url_for('main') }}" method="POST">
      <fieldset>
        <h2 style="padding-top: 5rem;
            text-align: center;
            text-transform: uppercase;
            grid-area: 2 / 1 / 2 / 3;
            align-self: center;
            justify-self: center;
            color: rgb(179, 179, 179);
            text-transform: uppercase;
            font-size: 3rem;
            text-shadow: 0px 2px 4px rgba(0,0,0,.4);
            margin-top: -5rem;">Recommending more...</h2>
        <span style="color: rgb(255, 255, 255);">Type your favrite anime title here:</span>
        <input name="user_input_text" type="text" required>
        <input type="submit" value="Recommend">
      </fieldset>
    </form>
    {% if collaborative_img_url %}
    <div class="container text-center" style="margin-top:50px;">
      <h2 style="padding-top: 5rem;
            text-align: center;
            text-transform: uppercase;
            grid-area: 2 / 1 / 2 / 3;
            align-self: center;
            justify-self: center;
            color: rgb(202, 202, 202);
            text-transform: uppercase;
            font-size: 3rem;
            text-shadow: 0px 2px 4px rgba(0,0,0,.4);
            margin-top: -5rem;"> Collaborative Filtering Recommendation</h2>

      {% for img_url in collaborative_img_url %}
      <div class="col-sm-3" style="align-items: center;width: 220px; margin-top: 20px;">
        <div class="well">
          <p>{{collaborative_recommended_anime_title[loop.index-1]}}</p>
          <img src={{img_url}} alt="Image" style="height: 100%; width:100%;object-fit: contain;">

        </div>
      </div>
      {% endfor %}
    </div>
    {%endif%}

    {% if content_img_url %}
    <div class="container text-center">
      <h2 style="padding-top: 5rem;
            text-align: center;
            text-transform: uppercase;
            grid-area: 2 / 1 / 2 / 3;
            align-self: center;
            justify-self: center;
            color: rgb(202, 202, 202);
            text-transform: uppercase;
            font-size: 3rem;
            text-shadow: 0px 2px 4px rgba(0,0,0,.4);
            margin-top: -5rem;">Content Based Filtering Recommendation</h2>

      {% for img_url in content_img_url %}
      <div class="col-sm-3" style="align-items: center;width: 220px; margin-top: 20px;">
        <div class="well">
          <p>{{content_recommended_anime_title[loop.index-1]}}</p>
          <img src={{img_url}} alt="Image" style="height: 100%; width:100%;object-fit: contain;">

        </div>
      </div>
      {% endfor %}
    </div>
    {%endif%}

    {% if error %}
    <br>
    <div class="well">{{ error }}</div>
    {% endif %}
  </div>

</body>

</html>